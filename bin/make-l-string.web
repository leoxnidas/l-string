#!/bin/bash


# simple bash script , I used to 
# create the file l- string.web.js

echo "[+] checking if browserify exists..."
sleep 3
INSTALLED="false"
BROWSERIFY=$(which "browserify")

if [[ $BROWSERIFY ]]; then
	echo "[+] browserify already installed.. =D."
	INSTALLED="true"
	sleep 2
else
	echo "[*] browserify it is not installed, how could you....? =("
	sleep 2
	echo "[+] installing browserify..."
	sudo npm install -g browserify
	if [[ "$?" -ne "0" ]]; then
  		echo "[-] An error occurs when trying to install browserify.. =("
  		exit 1
	else
		echo "[+] browserify installed..."
		INSTALLED="true"
	fi
fi

if [[ $INSTALLED == "true" ]]; then
	echo "[+] creating l-string.web.js file..."
	sleep 2
	browserify -r l-string:l-string.web > l-string.web.js
	if [[ "$?" -ne "0" ]]; then
  		echo "[-] Something went wrong , when creating string.web.js file.. =("
  		exit 1
	else
		echo "[+] l-string.web.js, succesfully created.. =D"
	fi
fi
